/// 计算球面上一个区域的面积
///
/// 该函数使用球面坐标计算由经纬度界定的球面区域面积。
/// 公式基于球面几何学中球面面积的计算方法，通过经度差和纬度正弦值差来确定面积元素大小。
///
/// # 参数
/// * `r` - 球体的半径
/// * `y1` - 第一个点的纬度（弧度）
/// * `y2` - 第二个点的纬度（弧度）
/// * `x1` - 第一个点的经度（弧度）
/// * `x2` - 第二个点的经度（弧度）
///
/// # 返回值
/// 返回由给定经纬度范围界定的球面区域面积
#[must_use]
pub fn spherical_area(r: f64, y1: f64, y2: f64, x1: f64, x2: f64) -> f64 {
    // 计算经度差的绝对值
    let dx = (x2 - x1).abs();

    // 计算纬度正弦值的差的绝对值
    let dy = (y2.sin() - y1.sin()).abs();

    // 计算并返回球面面积
    r.powi(2) * dx * dy
}
